"use strict";(self.webpackChunk_420_w_50_sf=self.webpackChunk_420_w_50_sf||[]).push([[8701],{4397:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>a,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Notes de cours/pushbutton","title":"Le *Push Button* (Bouton-poussoir) \u2014 Pr\xe9sentation compl\xe8te","description":"1. Qu\u2019est-ce qu\u2019un push button\u202f?","source":"@site/docs/Notes de cours/14-pushbutton.md","sourceDirName":"Notes de cours","slug":"/Notes de cours/pushbutton","permalink":"/420-W50-SF/docs/Notes de cours/pushbutton","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":14,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction \xe0 l\'Arduino, \xe0 PlatformIO et aux notions d\u2019\xe9lectricit\xe9 pour l\u2019IoT","permalink":"/420-W50-SF/docs/Notes de cours/arduino"},"next":{"title":"Le *Joystick* \u2014 Pr\xe9sentation compl\xe8te","permalink":"/420-W50-SF/docs/Notes de cours/joystick"}}');var i=s(4848),r=s(8453);const o={},l="Le Push Button (Bouton-poussoir) \u2014 Pr\xe9sentation compl\xe8te",u={},c=[{value:"1. Qu\u2019est-ce qu\u2019un <em>push button</em>\u202f?",id:"1-quest-ce-quun-push-button",level:2},{value:"2. Branchement typique",id:"2-branchement-typique",level:2},{value:"Sch\xe9ma courant avec r\xe9sistance de <em>pull-down</em> (externe) :",id:"sch\xe9ma-courant-avec-r\xe9sistance-de-pull-down-externe-",level:3},{value:"Variante plus simple : utiliser la r\xe9sistance  de <em>pull-up</em> (interne) de l\u2019Arduino",id:"variante-plus-simple--utiliser-la-r\xe9sistance--de-pull-up-interne-de-larduino",level:3},{value:"3. Le concept de <em>debouncing</em> (anti-rebond)",id:"3-le-concept-de-debouncing-anti-rebond",level:2},{value:"Solutions possibles :",id:"solutions-possibles-",level:3},{value:"4. D\xe9boguage d&#39;un programme arduino",id:"4-d\xe9boguage-dun-programme-arduino",level:2},{value:"Utilisation du port s\xe9rie",id:"utilisation-du-port-s\xe9rie",level:3},{value:"Temps d&#39;ex\xe9cution \xe9coul\xe9",id:"temps-dex\xe9cution-\xe9coul\xe9",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"le-push-button-bouton-poussoir--pr\xe9sentation-compl\xe8te",children:["Le ",(0,i.jsx)(n.em,{children:"Push Button"})," (Bouton-poussoir) \u2014 Pr\xe9sentation compl\xe8te"]})}),"\n",(0,i.jsxs)(n.h2,{id:"1-quest-ce-quun-push-button",children:["1. Qu\u2019est-ce qu\u2019un ",(0,i.jsx)(n.em,{children:"push button"}),"\u202f?"]}),"\n",(0,i.jsxs)(n.p,{children:["Un ",(0,i.jsx)(n.strong,{children:"push button"})," est un ",(0,i.jsx)(n.strong,{children:"interrupteur momentan\xe9"})," :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Quand on appuie dessus \u2192 le circuit se ferme \u2192 le courant passe."}),"\n",(0,i.jsx)(n.li,{children:"Quand on rel\xe2che \u2192 le circuit s\u2019ouvre \u2192 le courant ne passe plus."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Il permet \xe0 un microcontr\xf4leur (comme un Arduino ou ESP32) de ",(0,i.jsx)(n.strong,{children:"d\xe9tecter une action utilisateur"})," (clic, validation, contr\xf4le de s\xe9quence, etc.)."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-branchement-typique",children:"2. Branchement typique"}),"\n",(0,i.jsxs)(n.p,{children:["Le bouton poss\xe8de ",(0,i.jsx)(n.strong,{children:"4 pattes"}),", mais elles sont en r\xe9alit\xe9 ",(0,i.jsx)(n.strong,{children:"connect\xe9es 2 \xe0 2"})," (les c\xf4t\xe9s oppos\xe9s sont reli\xe9s entre eux)."]}),"\n",(0,i.jsxs)(n.h3,{id:"sch\xe9ma-courant-avec-r\xe9sistance-de-pull-down-externe-",children:["Sch\xe9ma courant avec r\xe9sistance de ",(0,i.jsx)(n.em,{children:"pull-down"})," (externe) :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"   +5V\n    \u2502\n    \u2502\n   [Bouton]\n    \u2502\n    \u251c\u2500\u2500\u2500\u25ba Pin num\xe9rique (ex: 2)\n    \u2502\n   [10k\u03a9] \u2190 r\xe9sistance de pull-down\n    \u2502\n   GND\n"})}),"\n",(0,i.jsx)(n.p,{children:"Explication :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Quand le bouton est ",(0,i.jsx)(n.strong,{children:"rel\xe2ch\xe9"}),", la r\xe9sistance tire la broche vers ",(0,i.jsx)(n.strong,{children:"LOW (0V)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Quand on ",(0,i.jsx)(n.strong,{children:"appuie"}),", la broche est reli\xe9e directement \xe0 ",(0,i.jsx)(n.strong,{children:"+5V (HIGH)"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"variante-plus-simple--utiliser-la-r\xe9sistance--de-pull-up-interne-de-larduino",children:["Variante plus simple : utiliser la r\xe9sistance  de ",(0,i.jsx)(n.em,{children:"pull-up"})," (interne) de l\u2019Arduino"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"pinMode(2, INPUT_PULLUP);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Dans ce cas :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Le bouton relie la ",(0,i.jsx)(n.strong,{children:"broche au GND"})," quand on appuie."]}),"\n",(0,i.jsxs)(n.li,{children:["Attention, c'est le contraire ici ! L\u2019\xe9tat est ",(0,i.jsx)(n.strong,{children:"LOW quand appuy\xe9"}),", ",(0,i.jsx)(n.strong,{children:"HIGH quand rel\xe2ch\xe9"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"3-le-concept-de-debouncing-anti-rebond",children:["3. Le concept de ",(0,i.jsx)(n.em,{children:"debouncing"})," (anti-rebond)"]}),"\n",(0,i.jsxs)(n.p,{children:["Quand on appuie sur un bouton, le contact m\xe9canique ",(0,i.jsx)(n.strong,{children:"rebondit"})," :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Le signal n\u2019est pas net : il passe de 0 \xe0 1 plusieurs fois pendant quelques millisecondes."}),"\n",(0,i.jsxs)(n.li,{children:["Sans gestion du ",(0,i.jsx)(n.em,{children:"debouncing"}),", le programme pourrait d\xe9tecter ",(0,i.jsx)(n.strong,{children:"plusieurs appuis"})," pour un seul clic."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"solutions-possibles-",children:"Solutions possibles :"}),"\n",(0,i.jsx)(n.p,{children:"Avec gestion de d\xe9lai :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Attention : HIGH si on utilise une r\xe9sistance externe\nif (digitalRead(buttonPin) == LOW) {\n  delay(50); // petit d\xe9lai pour ignorer les rebonds\n  if (digitalRead(buttonPin) == LOW) {\n    // vrai appui confirm\xe9, on proc\xe8de au traitement\n  }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Avec v\xe9rification de l'\xe9tat pr\xe9c\xe9dent :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Attention : LOW si on utilise une r\xe9sistance externe\n// \xc9tat au repos (non appuy\xe9)\nbool lastButtonState = HIGH;\n\nbool buttonState = digitalRead(BUTTON_PIN);\nif (lastButtonState == HIGH && buttonState == LOW) {\n   //Bouton appuy\xe9, on change l'\xe9tat (si n\xe9cessaire dans le traitement)\n  lastButtonState = LOW;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"4-d\xe9boguage-dun-programme-arduino",children:"4. D\xe9boguage d'un programme arduino"}),"\n",(0,i.jsx)(n.h3,{id:"utilisation-du-port-s\xe9rie",children:"Utilisation du port s\xe9rie"}),"\n",(0,i.jsxs)(n.p,{children:["La fa\xe7on la plus simple d'inspecter les chemins que parcourent le code est via l'utilisation du port s\xe9rie, ",(0,i.jsx)(n.strong,{children:"Platform IO"})," en rend l'utilisation tr\xe8s facile :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'void setup() {\n  Serial.begin(9600); //Port s\xe9rie configur\xe9 \xe0 9600 bauds(*)\n}\n\nvoid loop(){\n   Serial.println("Information affich\xe9e sur le port s\xe9rie");\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"(*)"})," Qu'est-ce qu'un baud ?"]}),"\n",(0,i.jsx)(n.p,{children:"Le baud (ou baud rate) repr\xe9sente la vitesse de transmission des donn\xe9es sur une liaison s\xe9rie \u2014 c\u2019est-\xe0-dire le nombre de symboles transmis par seconde."}),"\n",(0,i.jsx)(n.p,{children:"Dans le cas du port s\xe9rie (UART), un symbole = 1 bit, donc :"}),"\n",(0,i.jsx)(n.p,{children:"9600 bauds = 9600 bits transmis par seconde."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Pourquoi 9600 est souvent utilis\xe9 ?"})}),"\n",(0,i.jsx)(n.p,{children:"C\u2019est la valeur standard historique utilis\xe9e par la plupart des cartes Arduino (UNO, Nano, etc.). Elle est tr\xe8s fiable, m\xeame sur des c\xe2bles longs ou de mauvaise qualit\xe9 et tous les moniteurs s\xe9rie (dont celui de VS Code / PlatformIO) la reconnaissent par d\xe9faut. L'utilisation d'une valeur non compatible m\xe8nera souvent \xe0 l'inscription de caract\xe8res illisibles dans le port s\xe9rie."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Pour visualiser les entr\xe9es du port s\xe9rie dans ",(0,i.jsx)(n.strong,{children:"VSCode"})," :"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"cmd",src:s(8650).A+"",width:"593",height:"87"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"serial",src:s(6703).A+"",width:"889",height:"92"})}),"\n",(0,i.jsx)(n.p,{children:"Une fen\xeatre appara\xeetra ensuite dans VSCode afin de visualiser les inscriptions dans le port s\xe9rie."}),"\n",(0,i.jsx)(n.h3,{id:"temps-dex\xe9cution-\xe9coul\xe9",children:"Temps d'ex\xe9cution \xe9coul\xe9"}),"\n",(0,i.jsxs)(n.p,{children:["L'utilisation de la fonction ",(0,i.jsx)(n.code,{children:"millis()"})," est tr\xe8s pratique pour obtenir le nombre de millisecondes \xe9coul\xe9es depuis le ",(0,i.jsx)(n.strong,{children:"d\xe9but de l'ex\xe9cution"})," du programme sur le microcontr\xf4leur. On peut se servir du ",(0,i.jsx)(n.code,{children:"millis()"})," pour visualiser des temps d'ex\xe9cution ou dans le cas des boutons, pour ",(0,i.jsx)(n.strong,{children:"g\xe9rer les appuis courts vs les appuis longs"}),".-"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},6703:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/serial-75b44250a3aeec4b2c2914d867f9139e.jpg"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},8650:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/cmdpalette-bfc8b5747d88b63c2500d06f530aa9c1.jpg"}}]);